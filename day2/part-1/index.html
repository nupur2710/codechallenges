<html>

<head>

</head>

<body>

  <form>
    Number: <textarea type="text" name="fname"></textarea><br>
    <button value="Submit">Submit</button>
  </form>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      $("button").click(function () {
        compare($("input:text").val());

      });
    });

    function compare(input) {
      var array = input.split('\n');
      var finalArray = [], max, min, sum = 0;
      for (var i = 0; i < array.length; i++) {
        b = array[i].replace(/\s/g, ',');
        c = b.split(',').map(function (item) {
          return parseInt(item, 10);
        });
        finalArray.push(c);
      }

      for (var j = 0; j < finalArray.length; j++) {
        max = Math.max(...finalArray[j]);
        min = Math.min(...finalArray[j]);

        difference = max - min;
        sum = sum + difference;
      }
      console.log(finalArray);
      console.log(sum);
    }
  </script>

</body>

</html>